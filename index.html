<! DOCTYPE html>
<html lang="en">
<head>
      <script type="text/javascript">
        // create dataLayer
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }

        // set â€ždenied" as default for both ad and analytics storage,
        gtag("consent", "default", {
            ad_storage: "denied",
            analytics_storage: "denied",
            wait_for_update: 2000 // milliseconds to wait for update
        });

        // Enable ads data redaction by default [optional]
        gtag("set", "ads_data_redaction", true);
      </script>

      <script type="text/javascript">
        // Google Tag Manager
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-NP8BCLP'); //replace GTM-XXXXXX with Google Tag Manager ID
      </script>
      
      <script type="text/javascript">
      window.addEventListener("ucEvent", function (e) {
      if( e.detail && e.detail.event == "consent_status") {
        // check for consent status of service "Google Analytics"    
        var ucAnalyticsService = 'Google Analytics';
        // check for consent status of service "Google Ads Remarketing" 
        var ucAdService = 'Google Ads Remarketing'; 

        if(e.detail.hasOwnProperty(ucAnalyticsService) && e.detail.hasOwnProperty(ucAdService))
        {
            gtag("consent", "update", {
                ad_storage: e.detail[ucAdService] ? 'granted':'denied',
                analytics_storage: e.detail[ucAnalyticsService] ? 'granted':'denied'
            });
        }
        else {            
            if(e.detail.hasOwnProperty(ucAdService)) {
                gtag("consent", "update", {
                    ad_storage: e.detail[ucAdService] ? 'granted':'denied'
                });
            }            
            if(e.detail.hasOwnProperty(ucAnalyticsService)) {
              gtag("consent", "update", {
                    analytics_storage: e.detail[ucAnalyticsService] ? 'granted':'denied'
                });
            }
        }
      }
      });
      </script>
  
  
  
  <meta charset="UTF-8">
  <title>Data Layer Test</title>
  <script id="usercentrics-cmp" src="https://app.usercentrics.eu/browser-ui/latest/loader.js" data-settings-id="TpiFPuphU" async></script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NP8BCLP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->

this is my personal cmp test...

</body>
</html>
